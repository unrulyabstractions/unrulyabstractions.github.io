<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Papers - AI Safety & Interpretability Research | Unruly Abstractions</title>
    <meta name="description" content="Research papers on AI safety, mechanistic interpretability, AI alignment, category theory, and technical autotheory. Exploring queer perspectives on AI safety and alignment research.">
    <meta name="keywords" content="AI Safety Papers, Interpretability Research, Category Theory, Xenoreproduction, AI Alignment, Machine Learning Safety, Technical Autotheory, Anthropic Research, OpenAI Research">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    <link rel="canonical" href="https://unrulyabstractions.com/papers.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* ============================================
           CSS CUSTOM PROPERTIES (Design Tokens)
           ============================================ */
        :root {
            /* === COLOR PALETTE === */
            /* Background color - warm terracotta/coral */
            --color-background: rgba(215, 130, 110, 0.85);

            /* Primary text color - off-white */
            --color-text-primary: rgba(255, 255, 255, 0.95);

            /* Link text color - slightly muted white */
            --color-text-link: rgba(255, 255, 255, 0.85);

            /* Bright white for hover states */
            --color-text-bright: rgba(255, 255, 255, 1);

            /* Category/date label text color */
            --color-text-label: rgba(255, 255, 255, 0.7);

            /* Muted text for date labels */
            --color-text-muted: rgba(255, 255, 255, 0.6);

            /* Border color for paper items */
            --color-border-item: rgba(255, 255, 255, 0.1);

            /* === TYPOGRAPHY === */
            /* Page title (PAPERS) */
            --font-size-page-title: 2.5rem;
            --font-weight-page-title: 600;
            --letter-spacing-page-title: 2px;
            --margin-page-title-bottom: 3rem;

            /* Paper link text */
            --font-size-paper-link: 1.15rem;
            --font-weight-paper-link: 400;

            /* Category label text */
            --font-size-category-label: 0.65rem;
            --font-weight-category-label: 500;
            --letter-spacing-category-label: 1px;
            --opacity-category-label: 0.6;

            /* Date label text */
            --font-size-date-label: 0.55rem;
            --font-weight-date-label: 400;
            --opacity-date-label: 0.5;

            /* Back button */
            --font-size-back-button: 1rem;
            --font-weight-back-button: 400; /* Regular weight, not bold */
            --padding-back-button-vertical: 0.5rem;
            --padding-back-button-horizontal: 1rem;
            --border-radius-back-button: 30%; /* Organic shape */

            /* === LAYOUT & SPACING === */
            /* Container max width and padding */
            --max-width-container: 800px;
            --padding-container-vertical: 4rem;
            --padding-container-horizontal: 2rem;

            /* Gap between paper items in list */
            --gap-paper-list: 1.5rem;

            /* Padding for individual paper items */
            --padding-paper-item-vertical: 0.75rem;
            --padding-paper-item-horizontal: 0;

            /* Gap between link and metadata */
            --gap-paper-item: 2rem;

            /* Gap within metadata column */
            --gap-paper-meta: 0.3rem;

            /* Minimum width for metadata column */
            --min-width-paper-meta: 150px;

            /* Back button position */
            --position-back-button-top: 2rem;
            --position-back-button-left: 2rem;

            /* Border width for paper items */
            --border-width-paper-item: 1px;

            /* === EFFECTS === */
            /* Gradient overlay for visual depth */
            --gradient-overlay: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0%, rgba(255, 255, 255, 0.08) 100%);

            /* Smudge effect gradient for back button - center-focused radial gradient */
            --gradient-smudge-base: radial-gradient(
                ellipse 120% 100% at 45% 50%,
                rgba(255, 255, 255, 0.18) 0%,
                rgba(255, 255, 255, 0.10) 20%,
                rgba(255, 255, 255, 0.04) 40%,
                rgba(255, 255, 255, 0.01) 60%,
                rgba(255, 255, 255, 0) 75%
            );

            /* Smudge effect gradient on hover - brighter */
            --gradient-smudge-hover: radial-gradient(
                ellipse 120% 100% at 45% 50%,
                rgba(255, 255, 255, 0.24) 0%,
                rgba(255, 255, 255, 0.14) 20%,
                rgba(255, 255, 255, 0.06) 40%,
                rgba(255, 255, 255, 0.02) 60%,
                rgba(255, 255, 255, 0) 75%
            );

            /* Blur amount for smudge effect (randomized via JS) */
            --blur-smudge: 1.5px;

            /* === ANIMATION TIMINGS === */
            /* Hover transition duration */
            --duration-hover: 0.2s;

            /* Back button hover transition duration (slower for smudge effect) */
            --duration-hover-slow: 0.3s;

            /* === HOVER TRANSFORMS === */
            /* Horizontal translation for paper link hover */
            --translate-hover-link: 4px;

            /* Horizontal translation for back button hover (negative = leftward) */
            --translate-hover-back-button: -3px;

            /* === TYPOGRAPHY - FONTS === */
            /* Primary font family */
            --font-family-primary: 'Roboto Mono', 'Atkinson Hyperlegible', monospace;

            /* Secondary font family for labels */
            --font-family-secondary: 'JetBrains Mono', 'Roboto Mono', monospace;

            /* === MOBILE/TABLET BREAKPOINTS === */
            /* Tablet and mobile breakpoint */
            --breakpoint-tablet: 768px;
        }

        /* ============================================
           GLOBAL STYLES & RESETS
           ============================================ */

        /* Reset browser defaults and disable text hyphenation globally */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* Disable automatic hyphenation across all browsers */
            hyphens: none;
            -webkit-hyphens: none;
            -moz-hyphens: none;
            -ms-hyphens: none;
        }

        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }

        /* Base page styling: terracotta background, white text, scrollable */
        html, body {
            min-height: 100vh;
            background-color: var(--color-background);
            overflow-y: auto;
            font-family: var(--font-family-primary);
            color: var(--color-text-primary);
        }

        /* ============================================
           LAYOUT STRUCTURE
           ============================================ */

        /* Main container: centered column with max width */
        .container {
            max-width: var(--max-width-container);
            margin: 0 auto;
            padding: var(--padding-container-vertical) var(--padding-container-horizontal);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ============================================
           BACK BUTTON
           ============================================ */

        /* Back button: fixed position, smudge effect */
        .back-button {
            position: fixed;
            top: var(--position-back-button-top);
            left: var(--position-back-button-left);
            color: var(--color-text-link);
            text-decoration: none;
            font-size: var(--font-size-back-button);
            font-weight: var(--font-weight-back-button);
            padding: var(--padding-back-button-vertical) var(--padding-back-button-horizontal);
            border: none;
            border-radius: var(--border-radius-back-button);
            background: var(--gradient-smudge-base);
            transition: all var(--duration-hover-slow) ease;
            font-family: var(--font-family-primary);
            filter: none; /* No blur on main element to keep text crisp */
            z-index: 1;
            white-space: nowrap; /* Prevent wrapping */
        }

        /* Blurred pseudo-element for smudge effect (keeps text crisp) */
        .back-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: var(--border-radius-back-button);
            background: var(--gradient-smudge-base);
            filter: blur(var(--blur-smudge));
            z-index: -1; /* Behind text */
        }

        /* Hover state: brighten gradient and move left */
        .back-button:hover {
            background: var(--gradient-smudge-hover);
            color: var(--color-text-primary);
            transform: translateX(var(--translate-hover-back-button));
        }

        /* Focus state: remove outline */
        .back-button:focus {
            outline: none;
        }

        /* ============================================
           PAGE TITLE
           ============================================ */

        /* Page title: large, centered */
        .page-title {
            font-size: var(--font-size-page-title);
            font-weight: var(--font-weight-page-title);
            letter-spacing: var(--letter-spacing-page-title);
            margin-bottom: var(--margin-page-title-bottom);
            font-family: var(--font-family-primary);
            text-align: center;
        }

        /* ============================================
           PAPERS LIST
           ============================================ */

        /* Paper list: vertical stack */
        .paper-list {
            list-style: none;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: var(--gap-paper-list);
        }

        /* Individual paper item: horizontal flex layout with bottom border */
        .paper-item {
            opacity: 1;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: var(--gap-paper-item);
            padding: var(--padding-paper-item-vertical) var(--padding-paper-item-horizontal);
            border-bottom: var(--border-width-paper-item) solid var(--color-border-item);
        }

        /* Paper link: flexible width, hover effect */
        .paper-link {
            color: var(--color-text-link);
            text-decoration: none;
            font-size: var(--font-size-paper-link);
            font-weight: var(--font-weight-paper-link);
            transition: all var(--duration-hover) ease;
            cursor: pointer;
            font-family: var(--font-family-primary);
            flex: 1;
            /* Prevent text from breaking with hyphens */
            word-break: normal;
            overflow-wrap: normal;
            hyphens: none;
            white-space: normal;
        }

        /* Hover state: brighten and move right */
        .paper-link:hover {
            color: var(--color-text-bright);
            transform: translateX(var(--translate-hover-link));
        }

        /* ============================================
           PAPER METADATA (CATEGORY & DATE)
           ============================================ */

        /* Metadata container: vertical stack, right-aligned */
        .paper-meta {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: var(--gap-paper-meta);
            min-width: var(--min-width-paper-meta);
        }

        /* Category label: small, uppercase */
        .category-label {
            font-size: var(--font-size-category-label);
            font-weight: var(--font-weight-category-label);
            opacity: var(--opacity-category-label);
            text-transform: uppercase;
            letter-spacing: var(--letter-spacing-category-label);
            color: var(--color-text-label);
            font-family: var(--font-family-secondary);
            text-align: right;
            white-space: nowrap; /* Prevent wrapping */
        }

        /* Date label: smaller, muted */
        .date-label {
            font-size: var(--font-size-date-label);
            font-weight: var(--font-weight-date-label);
            opacity: var(--opacity-date-label);
            color: var(--color-text-muted);
            font-family: var(--font-family-secondary);
            text-align: right;
            white-space: nowrap; /* Prevent wrapping */
        }

        /* ============================================
           DECORATIVE EFFECTS
           ============================================ */

        /* Subtle gradient overlay for visual depth */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-overlay);
            pointer-events: none; /* Don't block interactions */
        }

        /* ============================================
           RESPONSIVE DESIGN: MOBILE
           ============================================ */

        /* Tablet and mobile: adjust spacing and layout */
        @media (max-width: 768px) {
            :root {
                /* Adjust spacing for mobile */
                --padding-container-vertical: 3rem;
                --padding-container-horizontal: 1.5rem;
                --position-back-button-top: 1rem;
                --position-back-button-left: 1rem;
                --font-size-back-button: 0.9rem;
                --padding-back-button-vertical: 0.4rem;
                --padding-back-button-horizontal: 0.8rem;
                --font-size-page-title: 2rem;
                --font-size-paper-link: 1.1rem;
            }

            /* Stack paper item vertically */
            .paper-item {
                flex-direction: column;
                gap: 0.5rem;
                align-items: flex-start;
            }

            /* Metadata: left-aligned on mobile */
            .paper-meta {
                align-items: flex-start;
                min-width: auto;
            }

            /* Labels: left-aligned text on mobile */
            .category-label,
            .date-label {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <a href="/" class="back-button">← home</a>

    <div class="container">
        <h1 class="page-title">papers</h1>
        <ul class="paper-list" id="paperList">
            <!-- Papers will be loaded dynamically -->
        </ul>
    </div>

    <script>
        /**
         * Load papers from JSON file
         * - Fetches from ./pdfs/content.json
         * - Sorts by date (newest first)
         * - Renders with category and date metadata
         * - Applies dynamic text scaling to prevent wrapping
         */
        async function loadPapers() {
            const paperList = document.getElementById('paperList');
            let foundPapers = [];

            // Fetch papers data from content.json
            try {
                const response = await fetch('./config/content.json', { cache: 'no-store' });
                if (response.ok) {
                    const contentData = await response.json();
                    foundPapers = contentData.papers || [];
                }
            } catch (error) {
                console.error('Failed to load papers:', error);
                // Fallback to hardcoded paper if fetch fails
                foundPapers.push('wanderings');
            }

            // Sort papers by date (newest first)
            foundPapers.sort(sortByDateDescending);

            // Render papers
            foundPapers.forEach(paper => {
                const listItem = document.createElement('li');
                listItem.className = 'paper-item';

                const link = document.createElement('a');

                // Extract paper data
                let filename, displayName, category, date;
                if (typeof paper === 'object' && paper.filename) {
                    filename = paper.filename;
                    displayName = paper.displayName || filename;
                    category = paper.category || 'uncategorized';
                    date = paper.date;
                } else {
                    filename = paper;
                    displayName = filename;
                    category = 'uncategorized';
                }

                // Build URL with cache busting
                link.href = `./pdfs/${filename}.pdf?v=${Date.now()}`;
                link.className = 'paper-link';
                link.textContent = displayName;
                link.target = '_blank';
                link.rel = 'noopener noreferrer';

                // Build metadata section
                const meta = document.createElement('div');
                meta.className = 'paper-meta';

                const categoryLabel = document.createElement('div');
                categoryLabel.className = 'category-label';
                categoryLabel.textContent = category;
                meta.appendChild(categoryLabel);

                if (date) {
                    const dateLabel = document.createElement('div');
                    dateLabel.className = 'date-label';
                    dateLabel.textContent = formatDisplayDate(date);
                    meta.appendChild(dateLabel);
                }

                listItem.appendChild(link);
                listItem.appendChild(meta);
                paperList.appendChild(listItem);
            });

            // Apply text scaling after rendering
            applyTextScaling();
        }

        /**
         * Apply dynamic text scaling to prevent line wrapping
         * Checks each paper link and scales down font-size if text wraps to multiple lines
         */
        function applyTextScaling() {
            // Get all paper links
            const paperLinks = document.querySelectorAll('.paper-link');

            paperLinks.forEach(link => {
                // Store original font size
                const computedStyle = window.getComputedStyle(link);
                const originalFontSize = parseFloat(computedStyle.fontSize);
                const lineHeight = parseFloat(computedStyle.lineHeight);

                // Tolerance for single-line detection (1.5x line height)
                const tolerance = 1.5;

                // Check if text is wrapping (height > line height)
                const isSingleLine = link.scrollHeight <= (lineHeight * tolerance);

                if (!isSingleLine) {
                    // Text is wrapping - scale down font size until it fits on one line
                    let currentFontSize = originalFontSize;
            const minFontSize = originalFontSize * 0.85; // Limit reduction to 15%
                    const step = 0.5; // Reduce by 0.5px at a time

                    while (link.scrollHeight > (lineHeight * tolerance) && currentFontSize > minFontSize) {
                        currentFontSize -= step;
                        link.style.fontSize = `${currentFontSize}px`;

                        // Recalculate line height based on new font size
                        const newComputedStyle = window.getComputedStyle(link);
                        const newLineHeight = parseFloat(newComputedStyle.lineHeight);

                        // Break if we've reached minimum
                        if (currentFontSize <= minFontSize) {
                            break;
                        }
                    }
                }
            });
        }

        /**
         * Apply random variations to back button smudge effect
         * - Randomizes blur amount, gradient shape, and position
         * - Makes button unique on every page load
         */
        function randomizeButtonSmudge() {
            const button = document.querySelector('.back-button');
            if (button) {
                // Random blur between 1.2-2.0px
                const minBlur = 1.2;
                const maxBlur = 2.0;
                const randomBlur = minBlur + Math.random() * (maxBlur - minBlur);

                // Random ellipse dimensions (percentage)
                const minEllipseX = 110;
                const maxEllipseX = 130;
                const minEllipseY = 90;
                const maxEllipseY = 110;
                const randomEllipseX = minEllipseX + Math.random() * (maxEllipseX - minEllipseX);
                const randomEllipseY = minEllipseY + Math.random() * (maxEllipseY - minEllipseY);

                // Random gradient center position (percentage)
                const minPosX = 40;
                const maxPosX = 55;
                const minPosY = 45;
                const maxPosY = 55;
                const randomPosX = minPosX + Math.random() * (maxPosX - minPosX);
                const randomPosY = minPosY + Math.random() * (maxPosY - minPosY);

                // Apply custom properties for ::before pseudo-element
                button.style.setProperty('--blur-smudge', `${randomBlur}px`);

                const gradient = `radial-gradient(ellipse ${randomEllipseX}% ${randomEllipseY}% at ${randomPosX}% ${randomPosY}%, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.10) 20%, rgba(255, 255, 255, 0.04) 40%, rgba(255, 255, 255, 0.01) 60%, rgba(255, 255, 255, 0) 75%)`;
                button.style.background = gradient;
                button.style.setProperty('--gradient-smudge-base', gradient);
            }
        }

        /* ============================================
           INITIALIZATION
           ============================================ */

        // Load content when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            loadPapers();
            randomizeButtonSmudge();
        });

        // Re-apply text scaling on window resize
        window.addEventListener('resize', applyTextScaling);

        function sortByDateDescending(a, b) {
            return getSortTimestamp(b) - getSortTimestamp(a);
        }

        function getSortTimestamp(entry) {
            const raw = entry && entry.date ? entry.date : null;
            if (!raw) {
                return 0;
            }
            if (typeof raw === 'string') {
                const normalized = raw.trim().toLowerCase();
                if (normalized === 'ongoing' || normalized === 'current') {
                    return Number.MAX_SAFE_INTEGER;
                }
            }
            const parsed = Date.parse(raw);
            return Number.isFinite(parsed) ? parsed : 0;
        }

        function formatDisplayDate(value) {
            if (!value) {
                return '';
            }
            if (typeof value === 'string') {
                const normalized = value.trim();
                const parsed = Date.parse(normalized);
                if (Number.isFinite(parsed)) {
                    return new Date(parsed).toLocaleDateString('en-US', {
                        month: 'short',
                        day: 'numeric',
                        year: 'numeric'
                    });
                }
                return normalized;
            }
            if (value instanceof Date && !Number.isNaN(value.getTime())) {
                return value.toLocaleDateString('en-US', {
                    month: 'short',
                    day: 'numeric',
                    year: 'numeric'
                });
            }
            return String(value);
        }
    </script>
</body>
</html>
